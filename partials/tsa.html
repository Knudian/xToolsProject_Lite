<div class="container" ng-init="tsInit()" id="tsAnalyser">
    <div class="col-xs-12"><h4 class="page-header">Tournament Square Analyser</h4></div>
    <div class="col-xs-4">
        <div class="panel panel-primary">
            <div class="panel-heading text-center"><strong>{{ 'TEXTS.TSA.PANEL.TIMES' | translate }}</strong></div>
            <div class="panel-body">
                <form class="form-horizontal">
                    <div class="row">
                        <label class="text-center col-xs-12">{{ 'TEXTS.TSA.HOI' | translate }}</label>
                        <div class="col-xs-12 input-group">
                            <input type="text" class="form-control text-center"
                                   ng-model="HourOfImpact"
                                   ng-blur="tsAnalyse()"
                                   placeholder="dd:mm:yyyy:hh:mm:ss"
                                   popover-placement="left"
                                   popover-trigger="focus"
                                   uib-popover="{{ 'TEXTS.TSA.FORMAT' | translate }}"
                                   popover-title="{{ 'TEXTS.TSA.HOI' | translate }}"
                            />
                        </div>
                        <p class="text-center col-xs-12"><small>{{ 'TEXTS.TSA.EXAMPLE' | translate }} : <code>29:05:2015:03:15:53</code>.</small></p>
                    </div>
                    <div class="row">
                        <label class="text-center col-xs-12">{{ 'TEXTS.TSA.HFV' | translate }}</label>
                        <div class="col-xs-12 input-group">
                            <input type="text" class="form-control text-center" ng-model="HourOfFirstView" ng-blur="tsAnalyse()" placeholder="dd:mm:yyyy:hh:mm:ss"
                                   popover-placement="left"
                                   popover-trigger="focus"
                                   uib-popover="{{ 'TEXTS.TSA.FORMAT' | translate }}"
                                   popover-title="{{ 'TEXTS.TSA.HFV' | translate }}"/>
                        </div>
                        <p class="text-center col-xs-12"><small>{{ 'TEXTS.TSA.EXAMPLE' | translate }} : <code>29:05:2015:03:15:53</code>.</small></p>
                    </div>
                    <div class="row">
                        <label class="text-center col-xs-12">{{ 'TEXTS.TSA.LSH' | translate }}</label>
                        <div class="col-xs-12 input-group">
                            <input type="text" class="form-control text-center" ng-model="LastHourWithoutAttack" ng-blur="tsAnalyse()" placeholder="dd:mm:yyyy:hh:mm:ss"
                                   popover-placement="left"
                                   popover-trigger="focus"
                                   uib-popover="{{ 'TEXTS.TSA.FORMAT' | translate }}"
                                   popover-title="{{ 'TEXTS.TSA.LSH' | translate }}"/>
                        </div>
                        <p class="text-center col-xs-12"><small>{{ 'TEXTS.TSA.EXAMPLE' | translate }} : <code>29:05:2015:03:15:53</code>.</small></p>
                    </div>
                </form>
            </div>
        </div>
        <div class="panel panel-info">
            <div class="panel-heading text-center"><strong>{{ 'TEXTS.TSA.PANEL.ATTACKER' | translate }}</strong></div>
            <div class="panel-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">{{ 'TRIBE.TITLE' | translate }} : </span>
                            <select class="form-control" ng-model="attacker.tribe" ng-change="tsAnalyse()">
                                <option value="GAUL">{{ 'TRIBE.GAULS' | translate }}</option>
                                <option value="ROMAN">{{ 'TRIBE.ROMANS' | translate }}</option>
                                <option value="TEUTON">{{ 'TRIBE.TEUTONS' | translate }}</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <span class="input-group-addon">X :</span>
                            <input type="text" class="form-control" ng-model="attacker.x" ng-blur="tsAnalyse()" size="4"/>
                            <span class="input-group-addon"> | Y :</span>
                            <input type="text" class="form-control" ng-model="attacker.y" ng-blur="tsAnalyse()" size="4"/>
                        </div>
                        <div class="input-group">
                            <span class="input-group-addon">{{ 'TEXTS.TSA.BOOTS' | translate }} :</span>
                            <input type="text" class="form-control" ng-model="bootsbonus" ng-blur="tsAnalyse()" placeholder="0"/>
                        </div>
                        <div class="input-group">
                            <span class="input-group-addon">{{ 'TEXTS.TSA.ATTACK_TYPE' | translate }} : </span>
                            <select class="form-control" ng-model="attacker.type" ng-change="tsAnalyse()">
                                <option value="normal">{{ 'SENDING_MODE.NORMAL' | translate }}</option>
                                <option value="raid">{{ 'SENDING_MODE.RAID' | translate }}</option>
                                <option value="siege">{{ 'SENDING_MODE.SIEGE' | translate }}</option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading text-center"><strong>{{ 'TEXTS.TSA.PANEL.DEFENDER' | translate }}</strong></div>
            <div class="panel-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label class="control-label col-xs-4">{{ 'TEXTS.TSA.DEFENDER' | translate }} :</label>
                        <div class="col-xs-8 input-group">
                            <span class="input-group-addon">X :</span>
                            <input type="text" class="form-control" ng-model="defender.x" ng-blur="tsAnalyse()" size="4"/>
                            <span class="input-group-addon"> | Y :</span>
                            <input type="text" class="form-control" ng-model="defender.y" ng-blur="tsAnalyse()" size="4"/>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col-xs-8">
        <table class="table table-responsive table-condensed table-bordered">
            <tr class="text-center">
                <td><img src="img/travian/layout/images/source/ui/icons/buildings/g14Icon6bea.gif"/></td>
                <td><i class="{{ attacker.tribe | lowercase }}-unit-01-small"></i></td>
                <td><i class="{{ attacker.tribe | lowercase }}-unit-02-small"></i></td>
                <td><i class="{{ attacker.tribe | lowercase }}-unit-03-small"></i></td>
                <td><i class="{{ attacker.tribe | lowercase }}-unit-04-small"></i></td>
                <td><i class="{{ attacker.tribe | lowercase }}-unit-05-small"></i></td>
                <td><i class="{{ attacker.tribe | lowercase }}-unit-06-small"></i></td>
                <td><i class="{{ attacker.tribe | lowercase }}-unit-07-small"></i></td>
                <td><i class="{{ attacker.tribe | lowercase }}-unit-08-small"></i></td>
                <td><i class="{{ attacker.tribe | lowercase }}-unit-09-small"></i></td>
                <td><i class="{{ attacker.tribe | lowercase }}-unit-10-small"></i></td>
            </tr>
            <tr ng-repeat="t in ts">
                <td>{{t.level}}</td>
                <td class="{{t.aff[0]}}">{{ t.speed[0] * 3600000 | duration:'hh:mm:ss' }}</td>
                <td class="{{t.aff[1]}}">{{ t.speed[1] * 3600000 | duration:'hh:mm:ss' }}</td>
                <td class="{{t.aff[2]}}">{{ t.speed[2] * 3600000 | duration:'hh:mm:ss' }}</td>
                <td class="{{t.aff[3]}}">{{ t.speed[3] * 3600000 | duration:'hh:mm:ss' }}</td>
                <td class="{{t.aff[4]}}">{{ t.speed[4] * 3600000 | duration:'hh:mm:ss' }}</td>
                <td class="{{t.aff[5]}}">{{ t.speed[5] * 3600000 | duration:'hh:mm:ss' }}</td>
                <td class="{{t.aff[6]}}">{{ t.speed[6] * 3600000 | duration:'hh:mm:ss' }}</td>
                <td class="{{t.aff[7]}}">{{ t.speed[7] * 3600000 | duration:'hh:mm:ss' }}</td>
                <td class="{{t.aff[8]}}">{{ t.speed[8] * 3600000 | duration:'hh:mm:ss' }}</td>
                <td class="{{t.aff[9]}}">{{ t.speed[9] * 3600000 | duration:'hh:mm:ss' }}</td>
            </tr>
        </table>
    </div>
</div>
